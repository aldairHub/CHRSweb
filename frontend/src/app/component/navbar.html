<nav class="navbar">

  <div class="navbar-brand">
    <img src="imgs/logo-uteq.png" alt="Logo UTEQ" class="logo">
    <div class="brand-text">
      <h1>UTEQ</h1>
      <span>Sistema de selección docente</span>
    </div>
  </div>

  <div class="navbar-actions">
    <!-- ✅ BOTÓN VOLVER (no se muestra en dashboard) -->
    <button
      *ngIf="!isDashboard"
      class="btn-back"
      (click)="goBack()"
      title="Volver"
      aria-label="Volver"
      type="button"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
    </button>
    <div class="notification-wrapper" (click)="toggleNotifications()">
      <div class="bell-icon">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
        </svg>
        <span *ngIf="unreadCount > 0" class="badge-dot"></span>
      </div>

      <div class="notification-dropdown" *ngIf="showNotifications" (click)="$event.stopPropagation()">
        <div class="dropdown-header">
          <h3>Notificaciones</h3>
          <span class="count" *ngIf="unreadCount > 0">{{ unreadCount }} nuevas</span>
        </div>

        <div class="dropdown-body">
          <div *ngFor="let notif of notificaciones" class="notif-item" [class.unread]="!notif.leida">
            <div class="notif-icon" [ngClass]="notif.tipo">
              <span *ngIf="notif.tipo === 'success'">✓</span>
              <span *ngIf="notif.tipo === 'warning'">!</span>
              <span *ngIf="notif.tipo === 'info'">i</span>
            </div>
            <div class="notif-content">
              <div class="notif-title">{{ notif.titulo }}</div>
              <div class="notif-msg">{{ notif.mensaje }}</div>
              <div class="notif-time">{{ notif.hora }}</div>
            </div>
          </div>

          <div *ngIf="notificaciones.length === 0" class="empty-state">
            No tienes notificaciones nuevas
          </div>
        </div>

        <div class="dropdown-footer">
          <button>Marcar todo como leído</button>
        </div>
      </div>
    </div>

    <div class="user-profile">
      <div class="avatar">
        {{ iniciales }}
      </div>
      <div class="user-info">
        <span class="name">{{ nombreUsuario }}</span>
        <span class="role">{{ rolUsuario }}</span>
      </div>
    </div>

    <button class="btn-logout" (click)="logout()" title="Cerrar Sesión">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
      </svg>
    </button>

  </div>
</nav>
