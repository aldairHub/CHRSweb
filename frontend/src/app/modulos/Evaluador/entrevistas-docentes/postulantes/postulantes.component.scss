// postulantes.scss
$primary: #00A63E; $dark: #016630; $light-card-bg: #EEF9EC; $border: #B9F8CF;
$text-dark: #1a1a1a; $text-gray: #536b50; $bg-white: #ffffff; $error: #dc2626;

.main-container { min-height: 100vh; background: #f5f7f5; padding: 2rem 1rem; }
.content-wrapper { max-width: 1280px; margin: 0 auto; }

.page-header {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;
  h2 { font-size: 1.75rem; color: $dark; font-weight: 700; margin: 0; }
  .page-subtitle { font-size: 0.95rem; color: $text-gray; margin: 0.25rem 0 0 0; }
}
.header-actions { display: flex; gap: 0.75rem; }

// FILTERS
.filters-section {
  display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap;
  .search-box { position: relative; flex: 1; min-width: 280px;
    .search-icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; stroke: $text-gray; pointer-events: none; }
  }
  .form-input { width: 100%; padding: 0.75rem 1rem 0.75rem 3rem; border: 1.5px solid $border; border-radius: 8px; background: $bg-white; font-size: 0.9rem; color: $text-dark; transition: all 0.2s;
    &:focus { outline: none; border-color: $primary; box-shadow: 0 0 0 3px rgba($primary,0.1); } }
  .form-select { min-width: 200px; padding: 0.75rem 1rem; border: 1.5px solid $border; border-radius: 8px; background: $bg-white; font-size: 0.9rem; color: $text-dark; cursor: pointer; transition: all 0.2s;
    &:focus { outline: none; border-color: $primary; } &:hover { border-color: $primary; } }
}

.card {
  background: $bg-white; border: 1px solid $border; border-radius: 12px;
  padding: 1.5rem; margin-bottom: 1.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}
.card-header {
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 2px solid $border;
}
.card-title { font-size: 1.125rem; font-weight: 700; color: $dark; margin: 0; }

.table-container { overflow-x: auto; border-radius: 8px; border: 1px solid $border; }
.table {
  width: 100%; border-collapse: collapse;
  thead { background: #f8faf9; }
  th { padding: 1rem 1.25rem; text-align: left; font-size: 0.8125rem; font-weight: 600; color: $text-gray; text-transform: uppercase; border-bottom: 1px solid $border; }
  td { padding: 1.125rem 1.25rem; font-size: 0.9rem; border-bottom: 1px solid #f0f0f0; vertical-align: middle; strong { color: $dark; } }
  tr:hover td { background: #fafdfb; }
  tr:last-child td { border-bottom: none; }
  small { font-size: 0.78rem; color: $text-gray; display: block; margin-top: 2px; }
}

.empty-state {
  text-align: center; padding: 3rem 2rem;
  .empty-icon { margin: 0 auto 1rem; width: 64px; height: 64px; background: rgba($primary,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; svg { width: 32px; height: 32px; stroke: $primary; } }
  p { font-size: 1rem; color: $text-dark; font-weight: 600; margin: 0 0 0.25rem 0; }
  small { font-size: 0.875rem; color: $text-gray; }
}

.progress-bar { background: #e5e7eb; height: 8px; border-radius: 4px; margin-bottom: 3px; }
.progress-fill { background: $primary; height: 100%; border-radius: 4px; transition: width 0.3s; }

.badge {
  display: inline-flex; align-items: center; padding: 0.3rem 0.75rem; border-radius: 20px; font-size: 0.8rem; font-weight: 600;
  &.success { background: #dcfce7; color: #166534; }
  &.warning { background: #fef9c3; color: #854d0e; }
  &.danger  { background: #fee2e2; color: #991b1b; }
  &.info    { background: #dbeafe; color: #1e40af; }
  &.pending { background: #f3e8ff; color: #7c3aed; }
  &.default { background: $light-card-bg; color: $dark; border: 1px solid $border; }
}

.btn {
  display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem;
  border-radius: 8px; font-weight: 600; font-size: 0.9rem; cursor: pointer; border: 1px solid transparent; transition: all 0.2s;
  &.btn-primary { background: $primary; color: white; &:hover { background: $dark; } }
  &.btn-outline { background: transparent; border-color: $primary; color: $primary; &:hover { background: rgba($primary,0.08); } }
  &.btn-sm { padding: 0.5rem 1rem; font-size: 0.85rem; }
}

// PAGINATION
.pagination {
  display: flex; justify-content: space-between; align-items: center;
  padding: 1.25rem 1.5rem; background: $bg-white; border-radius: 12px; border: 1px solid $border;
  .pagination-info { font-size: 0.875rem; color: $text-gray; }
  .pagination-controls { display: flex; gap: 0.5rem; }
  .page-btn {
    width: 36px; height: 36px; border-radius: 8px; border: 1.5px solid $border; background: $bg-white;
    display: flex; align-items: center; justify-content: center; cursor: pointer;
    font-size: 0.875rem; font-weight: 600; color: $text-dark; transition: all 0.2s;
    svg { width: 18px; height: 18px; stroke: $text-gray; }
    &:hover:not(:disabled):not(.active) { background: rgba($primary,0.05); border-color: $primary; color: $primary; }
    &.active { background: $primary; border-color: $primary; color: white; }
    &:disabled { opacity: 0.4; cursor: not-allowed; }
  }
}

// PIPELINE
.pipeline {
  display: flex; align-items: flex-start; justify-content: space-between;
  gap: 0; padding: 1.5rem 0; overflow-x: auto; position: relative;
}

.pipeline-step {
  flex: 1; display: flex; flex-direction: column; align-items: center;
  position: relative; text-align: center; min-width: 120px;

  &::after {
    content: ''; position: absolute; top: 25px; left: 50%; right: -50%;
    height: 3px; background: $border; z-index: 0;
  }
  &:last-child::after { display: none; }

  &.completada::after { background: #10b981; }
  &.en_curso::after   { background: linear-gradient(to right, #10b981, $border); }
}

.pipeline-icon {
  width: 50px; height: 50px; border-radius: 50%;
  background: #f0f0f0; border: 3px solid $border;
  display: flex; align-items: center; justify-content: center;
  margin-bottom: 0.5rem; position: relative; z-index: 1;
  font-weight: 700; color: $text-gray; font-size: 1rem;
  svg { width: 20px; height: 20px; }

  .pipeline-step.completada & { background: #10b981; border-color: #10b981; color: white; svg { stroke: white; } }
  .pipeline-step.en_curso &   { background: $primary; border-color: $primary; color: white; animation: pulse 2s infinite; }
}

.pipeline-connector {
  position: absolute; top: 25px; left: 0; width: 50%;
  height: 3px; background: $border; z-index: 0;
  &.done { background: #10b981; }
}

.pipeline-label {
  font-size: 0.8125rem; font-weight: 600; color: $text-gray; margin-bottom: 0.25rem;
  .pipeline-step.completada &, .pipeline-step.en_curso & { color: $dark; }
}
.pipeline-date { font-size: 0.72rem; color: $text-gray; }

// FASES GRID
.fases-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
  gap: 1.5rem; margin-bottom: 1.5rem;
}

.fase-card {
  background: $bg-white; border: 1px solid $border; border-left: 4px solid $border;
  border-radius: 12px; padding: 1.25rem; box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}
.fase-card-header {
  display: flex; justify-content: space-between; align-items: flex-start;
  margin-bottom: 1rem; padding-bottom: 0.75rem; border-bottom: 1px solid $border;
  h4 { font-size: 1rem; font-weight: 700; color: $dark; margin: 0 0 0.25rem 0; }
  small { font-size: 0.8rem; color: $text-gray; }
}
.fase-card-body {
  p { font-size: 0.9rem; margin-bottom: 0.5rem; last-child { margin-bottom: 0; } }
  small { font-size: 0.8rem; color: $text-gray; }
}
.fase-actions { display: flex; gap: 0.5rem; margin-top: 1rem; }

.alert {
  &.warning-light {
    background: #fef9c3; border-left: 3px solid #f59e0b;
    padding: 0.625rem 0.875rem; border-radius: 8px;
    font-size: 0.875rem; color: #78350f; margin: 0.75rem 0;
  }
}
.text-muted { color: $text-gray; font-style: italic; font-size: 0.875rem; }

// TIMELINE
.timeline { position: relative; padding-left: 2rem;
  &::before { content: ''; position: absolute; left: 0.625rem; top: 0; bottom: 0; width: 2px; background: $border; }
}
.timeline-item { position: relative; margin-bottom: 1.25rem; padding-left: 1.25rem;
  &:last-child { margin-bottom: 0; } }
.timeline-dot { position: absolute; left: -1.375rem; top: 0.375rem; width: 12px; height: 12px; border-radius: 50%; background: $primary; border: 3px solid white; box-shadow: 0 0 0 2px $primary; }
.timeline-date { font-size: 0.8rem; color: $text-gray; font-weight: 500; margin-bottom: 0.25rem; }
.timeline-title { font-weight: 700; color: $dark; font-size: 0.9rem; margin-bottom: 0.25rem; }
.timeline-content { background: $light-card-bg; border: 1px solid $border; border-radius: 8px; padding: 1rem; p { font-size: 0.875rem; color: $text-dark; margin: 0.25rem 0; } small { font-size: 0.8rem; color: $text-gray; } }

@keyframes pulse { 0%, 100% { box-shadow: 0 0 0 0 rgba($primary, 0.4); } 50% { box-shadow: 0 0 0 10px rgba($primary, 0); } }

@media (max-width: 768px) {
  .page-header { flex-direction: column; align-items: flex-start; gap: 1rem; }
  .filters-section { flex-direction: column; }
  .pipeline { flex-direction: column; gap: 1rem; align-items: flex-start; }
  .pipeline-step::after { display: none; }
  .fases-grid { grid-template-columns: 1fr; }
  .pagination { flex-direction: column; gap: 1rem; }
}
