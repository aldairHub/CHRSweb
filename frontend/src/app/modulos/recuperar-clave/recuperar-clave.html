<div class="login-container">
  <div class="login-content">

    <div class="login-header">
      <div class="logo-box">
        <img src="imgs/logo-uteq.png" alt="Logo UTEQ" class="logo">
      </div>
      <h1 class="title">UTEQ</h1>
      <p class="subtitle">Sistema de selección docente</p>
    </div>

    <div class="login-card">

      <!-- Vista éxito -->
      <ng-container *ngIf="exito">
        <div class="icon-wrapper">
          <div class="icon-circle">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="32" height="32" stroke-width="1.8">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
          </div>
        </div>
        <h3 class="form-title">Revisa tu correo</h3>
        <p class="form-subtitle">Si el correo está registrado, recibirás una contraseña temporal en breve.</p>

        <div class="exito-box">
          <p>Usa esa contraseña temporal para ingresar. El sistema te pedirá establecer una nueva contraseña.</p>
        </div>

        <button class="btn-primary" (click)="volverAlLogin()">
          Volver al login
        </button>
      </ng-container>

      <!-- Vista formulario -->
      <ng-container *ngIf="!exito">
        <div class="icon-wrapper">
          <div class="icon-circle">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="32" height="32" stroke-width="1.8">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
            </svg>
          </div>
        </div>
        <h3 class="form-title">Recuperar contraseña</h3>
        <p class="form-subtitle">Ingresa tu correo y te enviaremos una contraseña temporal</p>

        <div class="alert-error" *ngIf="error">{{ error }}</div>

        <div class="form-group">
          <label>Correo electrónico</label>
          <div class="input-wrapper">
            <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="4" width="20" height="16" rx="2"/>
              <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
            </svg>
            <input
              type="email"
              [(ngModel)]="correo"
              placeholder="tucorreo@uteq.edu.ec"
              autocomplete="email"
            />
          </div>
        </div>

        <button class="btn-primary" (click)="onSubmit()" [disabled]="isLoading">
          {{ isLoading ? 'Enviando...' : 'Enviar contraseña temporal' }}
        </button>

        <button class="btn-outline" (click)="volverAlLogin()">
          ← Volver al login
        </button>
      </ng-container>

    </div>

    <div class="form-footer">
      © 2026 Universidad Técnica Estatal de Quevedo
    </div>
  </div>
</div>
